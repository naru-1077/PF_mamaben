<div class="container">
  <div class="row">
    <div class="col-md-12">

    <p><strong><%= "#{@user.name}" %>さんの投稿履歴</strong>(全<%= @user.posts.count %>件)</p>
      <% @posts.each do |post| %>
        <table class= "post-index d-inline-block table-bordered">
          <tr>
            <td>
              <%= link_to post_path(post), data: {"turbolinks" => false} do %>
                <%= attachment_image_tag post, :image, format: 'jpeg', size: "340x220" %>
              <% end %>
            </td>
          </tr>
          <tr>
          <% if current_user.id == post.user.id %>
            <td>アカウント名：<%= "#{post.user.name}".truncate(18) %>さん</td>
          <% else %>
            <td>アカウント名：<%= link_to "#{post.user.name}".truncate(18), users_post_histories_path(post.user.id), data: {"turbolinks" => false} %>さん</td>
          <% end %>
          </tr>
          <tr>
            <td><%= "ジャンル: #{post.genre.genre_name}" %></td>
          </tr>
          <tr>
            <td><%= "タイトル: #{post.title}".truncate(18) %></td>
          </tr>
          <tr>
            <td><%= "お気に入り数: #{post.favorites.count}件" %></td>
          </tr>
          <tr>
            <td>コメント数：<%= link_to "#{post.post_comments.count}件", post_post_comments_path(post), data: {"turbolinks" => false} %></td>
          </tr>
          <tr>
            <td><%= "投稿日時: #{post.created_at.strftime('%Y/%m/%d')}" %></td>
          </tr>
        </table>
      <% end %>

    <!--colの閉じ-->
    </div>


    <div class="text-center">
      <%= paginate @posts %>
    </div>

  </div>
</div>